{"ast":null,"code":"import{configureStore,combineReducers}from'@reduxjs/toolkit';import settingsReducer from'../Store/Settings';var combinedReducer=combineReducers({settings:settingsReducer});var rootReducer=function rootReducer(state,action){if(action.type==='api/auth/logout/fulfilled'){var _state=state,stripe=_state.stripe;/* preserver Stripe, specifically pricing plans */state={stripe:stripe};}return combinedReducer(state,action);};/* middleware is so I don't get non-serializable errors in console. I store the websocket in\n   redux store which works fine. Also, I try not to store dates in state from backend, but\n   when I do it works fine, socket is fine too. I could move socket to react context, but\n   for now I want to keep in redux store.\n*/export var store=configureStore({reducer:rootReducer,middleware:function middleware(getDefaultMiddleware){return getDefaultMiddleware({thunk:true,serializableCheck:false});}});","map":{"version":3,"names":["configureStore","combineReducers","settingsReducer","combinedReducer","settings","rootReducer","state","action","type","stripe","store","reducer","middleware","getDefaultMiddleware","thunk","serializableCheck"],"sources":["/Users/adamvanbuskirk/Sites/btrpolymers/client/src/Core/store.ts"],"sourcesContent":["import { configureStore, ThunkAction, Action, combineReducers, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport settingsReducer from '../Store/Settings';\n\nconst combinedReducer = combineReducers({\n  settings: settingsReducer,\n});\n\nconst rootReducer = (state: any, action: any) => {\n  if (action.type === 'api/auth/logout/fulfilled') {\n    const { stripe } = state; /* preserver Stripe, specifically pricing plans */\n    state = { stripe };\n  }\n  return combinedReducer(state, action)\n}\n/* middleware is so I don't get non-serializable errors in console. I store the websocket in\n   redux store which works fine. Also, I try not to store dates in state from backend, but\n   when I do it works fine, socket is fine too. I could move socket to react context, but\n   for now I want to keep in redux store.\n*/\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      thunk: true,\n      serializableCheck: false,\n    }),\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n"],"mappings":"AAAA,OAASA,cAAT,CAA8CC,eAA9C,KAA2F,kBAA3F,CACA,MAAOC,gBAAP,KAA4B,mBAA5B,CAEA,GAAMC,gBAAe,CAAGF,eAAe,CAAC,CACtCG,QAAQ,CAAEF,eAD4B,CAAD,CAAvC,CAIA,GAAMG,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAaC,MAAb,CAA6B,CAC/C,GAAIA,MAAM,CAACC,IAAP,GAAgB,2BAApB,CAAiD,CAC/C,WAAmBF,KAAnB,CAAQG,MAAR,QAAQA,MAAR,CAA0B,kDAC1BH,KAAK,CAAG,CAAEG,MAAM,CAANA,MAAF,CAAR,CACD,CACD,MAAON,gBAAe,CAACG,KAAD,CAAQC,MAAR,CAAtB,CACD,CAND,CAOA;AACA;AACA;AACA;AACA,EACA,MAAO,IAAMG,MAAK,CAAGV,cAAc,CAAC,CAClCW,OAAO,CAAEN,WADyB,CAElCO,UAAU,CAAE,oBAACC,oBAAD,QACVA,qBAAoB,CAAC,CACnBC,KAAK,CAAE,IADY,CAEnBC,iBAAiB,CAAE,KAFA,CAAD,CADV,EAFsB,CAAD,CAA5B"},"metadata":{},"sourceType":"module"}