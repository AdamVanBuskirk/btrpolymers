{"ast":null,"code":"// src/Components/Mobile/DashMobile.tsx\nimport React from\"react\";import{useAppSelector}from\"../../Core/hooks\";import{getSettings}from\"../../Store/Settings\";import Redirect from\"../Redirect\";import TopNav from\"./TopNav\";import SubNav from\"./SubNav\";import LeftNav from\"./LeftNav\";// ✅ re-added\nimport Work from\"./Work\";import Data from\"./Data\";import Meetings from\"./Meetings\";import Lists from\"./Lists\";import Scripts from\"../Scripts\";import Stories from\"../Stories\";import{differenceInDays,subDays}from\"date-fns\";import{getStripe}from\"../../Store/Stripe\";import{getCompany}from\"../../Store/Company\";import TrialExpired from\"../TrialExpired\";import CompanySettings from\"./CompanySettings\";import{getUser}from\"../../Store/Auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Dash(){var userState=useAppSelector(getUser);var settingsState=useAppSelector(getSettings);var stripeState=useAppSelector(getStripe);var companyState=useAppSelector(getCompany);var settings=settingsState.settings,showMenu=settingsState.showMenu;var lastPayment=stripeState.mostRecentPayment;var daysLeft=0;var owner=companyState.members.find(function(m){return m.role===\"owner\";});if(owner&&owner.created){daysLeft=differenceInDays(owner.created,subDays(new Date(),30));}if(!settings.loadedComponentType){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Redirect,{}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",marginTop:\"200px\",textAlign:\"center\",fontStyle:\"italic\",fontSize:\"16pt\",color:\"#555\"},children:\"Loading...\"})]});}var loadedComponent=/*#__PURE__*/_jsx(_Fragment,{});switch(settings.loadedComponentType){case\"settings\":loadedComponent=/*#__PURE__*/_jsx(CompanySettings,{});break;case\"work\":loadedComponent=/*#__PURE__*/_jsx(Work,{mode:\"create\"});break;case\"data\":loadedComponent=/*#__PURE__*/_jsx(Data,{});break;case\"meetings\":loadedComponent=/*#__PURE__*/_jsx(Meetings,{});break;case\"lists\":loadedComponent=/*#__PURE__*/_jsx(Lists,{});break;case\"scripts\":loadedComponent=/*#__PURE__*/_jsx(Scripts,{});break;case\"stories\":loadedComponent=/*#__PURE__*/_jsx(Stories,{});break;default:loadedComponent=/*#__PURE__*/_jsx(\"div\",{style:{padding:\"20px\"},children:\"Component not found\"});}if(daysLeft<0&&!lastPayment&&!userState.earlyAdopter){loadedComponent=/*#__PURE__*/_jsx(TrialExpired,{});}var layoutStyle={display:\"flex\",flexDirection:\"column\",height:\"100vh\",backgroundColor:\"#f8f9fa\",overflowX:\"hidden\",overflowY:\"hidden\",position:\"relative\",zIndex:0};return/*#__PURE__*/_jsxs(\"div\",{style:layoutStyle,children:[/*#__PURE__*/_jsx(Redirect,{}),/*#__PURE__*/_jsx(TopNav,{}),/*#__PURE__*/_jsx(SubNav,{}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflowY:\"hidden\"},children:loadedComponent}),showMenu&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"fixed\",inset:0,zIndex:99999},children:/*#__PURE__*/_jsx(LeftNav,{})})]});}export default Dash;","map":{"version":3,"names":["React","useAppSelector","getSettings","Redirect","TopNav","SubNav","LeftNav","Work","Data","Meetings","Lists","Scripts","Stories","differenceInDays","subDays","getStripe","getCompany","TrialExpired","CompanySettings","getUser","Dash","userState","settingsState","stripeState","companyState","settings","showMenu","lastPayment","mostRecentPayment","daysLeft","owner","members","find","m","role","created","Date","loadedComponentType","width","marginTop","textAlign","fontStyle","fontSize","color","loadedComponent","padding","earlyAdopter","layoutStyle","display","flexDirection","height","backgroundColor","overflowX","overflowY","position","zIndex","flex","inset"],"sources":["/Users/adamvanbuskirk/Sites/btrpolymers/client/src/Components/Mobile/Dash.tsx"],"sourcesContent":["// src/Components/Mobile/DashMobile.tsx\nimport React, { CSSProperties } from \"react\";\nimport { useAppSelector } from \"../../Core/hooks\";\nimport { getSettings } from \"../../Store/Settings\";\nimport Redirect from \"../Redirect\";\nimport TopNav from \"./TopNav\";\nimport SubNav from \"./SubNav\";\nimport LeftNav from \"./LeftNav\"; // ✅ re-added\nimport Work from \"./Work\";\nimport Data from \"./Data\";\nimport Meetings from \"./Meetings\";\nimport Lists from \"./Lists\";\nimport Scripts from \"../Scripts\";\nimport Stories from \"../Stories\";\nimport Settings from \"./CompanySettings\";\nimport { differenceInDays, subDays } from \"date-fns\";\nimport { getMostRecentPayment, getStripe } from \"../../Store/Stripe\";\nimport { getCompany } from \"../../Store/Company\";\nimport TrialExpired from \"../TrialExpired\";\nimport CompanySettings from \"./CompanySettings\";\nimport { getUser } from \"../../Store/Auth\";\n\nfunction Dash() {\n\n  const userState = useAppSelector(getUser);\n  const settingsState = useAppSelector(getSettings);\n  const stripeState = useAppSelector(getStripe);\n  const companyState = useAppSelector(getCompany);\n\n  const { settings, showMenu } = settingsState;\n\n  const lastPayment = stripeState.mostRecentPayment;\n\n  let daysLeft = 0;\n  let owner = companyState.members.find(m => m.role === \"owner\");\n\n  if (owner && owner.created) {\n    daysLeft = differenceInDays(owner.created, subDays(new Date(), 30));\n  }\n\n  if (!settings.loadedComponentType) {\n    return (\n      <>\n        <Redirect />\n        <div\n          style={{\n            width: \"100%\",\n            marginTop: \"200px\",\n            textAlign: \"center\",\n            fontStyle: \"italic\",\n            fontSize: \"16pt\",\n            color: \"#555\",\n          }}\n        >\n          Loading...\n        </div>\n      </>\n    );\n  }\n\n  let loadedComponent = <></>;\n\n  switch (settings.loadedComponentType) {\n    case \"settings\":\n      loadedComponent = <CompanySettings />;\n      break;\n    case \"work\":\n      loadedComponent = <Work mode=\"create\" />;\n      break;\n    case \"data\":\n      loadedComponent = <Data />;\n      break;\n    case \"meetings\":\n      loadedComponent = <Meetings />;\n      break;\n    case \"lists\":\n      loadedComponent = <Lists />;\n      break;\n    case \"scripts\":\n      loadedComponent = <Scripts />;\n      break;\n    case \"stories\":\n      loadedComponent = <Stories />;\n      break;\n    default:\n      loadedComponent = <div style={{ padding: \"20px\" }}>Component not found</div>;\n  }\n\n  if (daysLeft < 0 && !lastPayment && !userState.earlyAdopter) {\n    loadedComponent = <TrialExpired />;\n  }\n\n  const layoutStyle: CSSProperties = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"100vh\",\n    backgroundColor: \"#f8f9fa\",\n    overflowX: \"hidden\",\n    overflowY: \"hidden\",\n    position: \"relative\",\n    zIndex: 0,\n  };\n\n  return (\n    <div style={layoutStyle}>\n      <Redirect />\n      <TopNav />\n      <SubNav />\n      <div style={{ flex: 1, overflowY: \"hidden\" }}>\n        {loadedComponent}\n      </div>\n\n      {/* ✅ Add this — renders menu overlay above everything */}\n      {showMenu && (\n        <div style={{ position: \"fixed\", inset: 0, zIndex: 99999 }}>\n          <LeftNav />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Dash;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}