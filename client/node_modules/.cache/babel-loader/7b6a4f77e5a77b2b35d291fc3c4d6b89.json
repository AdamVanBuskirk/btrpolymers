{"ast":null,"code":"import React from'react';import{useAppSelector}from'../../Core/hooks';import{getSettings}from'../../Store/Settings';import SubNav from'../Desktop/SubNav';import TopNav from'./TopNav';import LeftNav from'../Desktop/LeftNav';import Main from'../Main';import Redirect from'../Redirect';import CompanySettings from'./CompanySettings';import Lists from'./Lists';import Meetings from'./Meetings';//import Actions from './Actions';\nimport Work from'./Work';import Data from'./Data';import Stories from'../Stories';import Scripts from'../Scripts';import{getStripe}from'../../Store/Stripe';import{getCompany}from'../../Store/Company';import{differenceInDays,subDays}from'date-fns';import TrialExpired from'../TrialExpired';import{getUser}from'../../Store/Auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Dash(){var userState=useAppSelector(getUser);var settingsState=useAppSelector(getSettings);var stripeState=useAppSelector(getStripe);var companyState=useAppSelector(getCompany);var settings=settingsState.settings;var lastPayment=stripeState.mostRecentPayment;var daysLeft=0;var owner=companyState.members.find(function(m){return m.role===\"owner\";});if(owner&&owner.created){daysLeft=differenceInDays(owner.created,subDays(new Date(),30));}var mainStyle={height:\"100vh\",overflow:\"hidden\",display:\"inline-block\"};var leftNavStyle={display:\"inline-block\"};if(settingsState.settings.sidebarExpanded){leftNavStyle.width=\"20%\";mainStyle.width=\"80%\";}else{leftNavStyle.width=\"5%\";mainStyle.width=\"95%\";}if(settingsState.settings.loadedComponentType===\"\")return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Redirect,{}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",margin:\"0px auto\",paddingTop:\"50px\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"div\",{style:{fontStyle:\"italic\",fontSize:\"18pt\",fontWeight:\"300\",color:\"#555\"},children:\"Loading...\"})})]});var loadedComponent=/*#__PURE__*/_jsx(Main,{});if(settingsState.status!==\"loadingComponent\"){if(settings.loadedComponentType===\"settings\"){loadedComponent=/*#__PURE__*/_jsx(CompanySettings,{});//} else if (settings.loadedComponentType === \"actions\") {\n//  loadedComponent = <Actions />;\n}else if(settings.loadedComponentType===\"work\"){loadedComponent=/*#__PURE__*/_jsx(Work,{mode:\"create\"});}else if(settings.loadedComponentType===\"data\"){loadedComponent=/*#__PURE__*/_jsx(Data,{});}else if(settings.loadedComponentType===\"stories\"){loadedComponent=/*#__PURE__*/_jsx(Stories,{});}else if(settings.loadedComponentType===\"meetings\"){loadedComponent=/*#__PURE__*/_jsx(Meetings,{});}else if(settings.loadedComponentType===\"lists\"){loadedComponent=/*#__PURE__*/_jsx(Lists,{});}else if(settings.loadedComponentType===\"scripts\"){loadedComponent=/*#__PURE__*/_jsx(Scripts,{});}}if(daysLeft<0&&!lastPayment&&!userState.earlyAdopter){loadedComponent=/*#__PURE__*/_jsx(TrialExpired,{});}//backgroundColor: \"#F8F9FA\"\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Redirect,{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"top\",margin:\"0px auto\",backgroundColor:\"#F8F9FA\",height:\"100vh\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"inline-block\",width:\".5%\"}}),/*#__PURE__*/_jsx(\"div\",{style:leftNavStyle,children:/*#__PURE__*/_jsx(LeftNav,{})}),/*#__PURE__*/_jsxs(\"div\",{style:mainStyle,children:[/*#__PURE__*/_jsx(TopNav,{}),/*#__PURE__*/_jsx(SubNav,{}),loadedComponent]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"inline-block\",width:\".5%\"}})]})]});}export default Dash;","map":{"version":3,"names":["React","useAppSelector","getSettings","SubNav","TopNav","LeftNav","Main","Redirect","CompanySettings","Lists","Meetings","Work","Data","Stories","Scripts","getStripe","getCompany","differenceInDays","subDays","TrialExpired","getUser","Dash","userState","settingsState","stripeState","companyState","settings","lastPayment","mostRecentPayment","daysLeft","owner","members","find","m","role","created","Date","mainStyle","height","overflow","display","leftNavStyle","sidebarExpanded","width","loadedComponentType","margin","paddingTop","textAlign","fontStyle","fontSize","fontWeight","color","loadedComponent","status","earlyAdopter","alignItems","backgroundColor"],"sources":["/Users/adamvanbuskirk/Sites/btrpolymers/client/src/Components/Desktop/Dash.tsx"],"sourcesContent":["import React, { CSSProperties } from 'react';\nimport { useAppSelector } from '../../Core/hooks';\nimport Settings, { getSettings } from '../../Store/Settings';\nimport SubNav from '../Desktop/SubNav';\nimport TopNav from './TopNav';\nimport LeftNav from '../Desktop/LeftNav';\nimport Main from '../Main';\nimport Redirect from '../Redirect';\nimport CompanySettings from './CompanySettings';\nimport Lists from './Lists';\nimport Meetings from './Meetings';\n//import Actions from './Actions';\nimport Work from './Work';\nimport Data from './Data';\nimport Stories from '../Stories';\nimport Scripts from '../Scripts';\nimport { getStripe } from '../../Store/Stripe';\nimport { getCompany } from '../../Store/Company';\nimport { differenceInDays, subDays } from 'date-fns';\nimport TrialExpired from '../TrialExpired';\nimport { getUser } from '../../Store/Auth';\n\nfunction Dash() {\n\n  const userState = useAppSelector(getUser);\n  const settingsState = useAppSelector(getSettings);\n  const stripeState = useAppSelector(getStripe);\n  const companyState = useAppSelector(getCompany);\n  const settings = settingsState.settings;\n  const lastPayment = stripeState.mostRecentPayment;\n\n  let daysLeft = 0;\n  let owner = companyState.members.find(m => m.role === \"owner\");\n\n  if (owner && owner.created) {\n    daysLeft = differenceInDays(owner.created, subDays(new Date(), 30));\n  }\n \n  let mainStyle: CSSProperties = { \n    height: \"100vh\",\n    overflow: \"hidden\",\n    display: \"inline-block\"\n    \n  };\n  let leftNavStyle: CSSProperties = { display: \"inline-block\" };\n  \n  if (settingsState.settings.sidebarExpanded) {\n      leftNavStyle.width = \"20%\";\n      mainStyle.width = \"80%\";\n  } else {\n      leftNavStyle.width = \"5%\";\n      mainStyle.width = \"95%\";\n\n  }\n  \n  if (settingsState.settings.loadedComponentType === \"\") \n    return (\n      <>\n        <Redirect />\n        <div style={{ width: \"100%\", margin: \"0px auto\", paddingTop: \"50px\", textAlign: \"center\" }}>\n            <div style={{ fontStyle: \"italic\", fontSize: \"18pt\", fontWeight: \"300\", color: \"#555\" }}>\n                Loading...\n            </div>\n        </div>\n      </>\n    );\n\n  let loadedComponent = <Main />;\n\n  if (settingsState.status !== \"loadingComponent\") {\n    if (settings.loadedComponentType === \"settings\") {\n      loadedComponent = <CompanySettings />;\n    //} else if (settings.loadedComponentType === \"actions\") {\n    //  loadedComponent = <Actions />;\n    } else if (settings.loadedComponentType === \"work\") {\n      loadedComponent = <Work mode=\"create\" />;\n    } else if (settings.loadedComponentType === \"data\") {\n      loadedComponent = <Data />;\n    } else if (settings.loadedComponentType === \"stories\") {\n      loadedComponent = <Stories />;\n    } else if (settings.loadedComponentType === \"meetings\") {\n      loadedComponent = <Meetings />;\n    } else if (settings.loadedComponentType === \"lists\") {\n      loadedComponent = <Lists />;\n    } else if (settings.loadedComponentType === \"scripts\") {\n      loadedComponent = <Scripts />;\n    }\n  }\n\n  if (daysLeft < 0 && !lastPayment && !userState.earlyAdopter) {\n    loadedComponent = <TrialExpired />;\n  }\n//backgroundColor: \"#F8F9FA\"\n  return (\n    <>\n      <Redirect />\n      <div style={{ display: \"flex\", alignItems: \"top\", margin: \"0px auto\", \n          backgroundColor: \"#F8F9FA\", height: \"100vh\"\n        }}>\n        <div style={{ display: \"inline-block\", width: \".5%\" }}></div>\n\n        <div style={leftNavStyle}>\n          <LeftNav />\n        </div>\n        <div style={mainStyle}>\n          <TopNav />\n          <SubNav />\n          {loadedComponent}\n        </div>\n        <div style={{ display: \"inline-block\", width: \".5%\" }}></div>\n      </div>\n    </>\n  );\n}\n\nexport default Dash;"],"mappings":"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"},"metadata":{},"sourceType":"module"}