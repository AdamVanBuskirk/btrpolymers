{"ast":null,"code":"import { configureStore, combineReducers } from '@reduxjs/toolkit';\nimport settingsReducer from '../Store/Settings';\nconst combinedReducer = combineReducers({\n  settings: settingsReducer\n});\n\nconst rootReducer = (state, action) => {\n  if (action.type === 'api/auth/logout/fulfilled') {\n    const {\n      stripe\n    } = state;\n    /* preserver Stripe, specifically pricing plans */\n\n    state = {\n      stripe\n    };\n  }\n\n  return combinedReducer(state, action);\n};\n/* middleware is so I don't get non-serializable errors in console. I store the websocket in\n   redux store which works fine. Also, I try not to store dates in state from backend, but\n   when I do it works fine, socket is fine too. I could move socket to react context, but\n   for now I want to keep in redux store.\n*/\n\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: getDefaultMiddleware => getDefaultMiddleware({\n    thunk: true,\n    serializableCheck: false\n  })\n});","map":{"version":3,"names":["configureStore","combineReducers","settingsReducer","combinedReducer","settings","rootReducer","state","action","type","stripe","store","reducer","middleware","getDefaultMiddleware","thunk","serializableCheck"],"sources":["/Users/adamvanbuskirk/Sites/btrpolymers/client/src/Core/store.ts"],"sourcesContent":["import { configureStore, ThunkAction, Action, combineReducers, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport settingsReducer from '../Store/Settings';\n\nconst combinedReducer = combineReducers({\n  settings: settingsReducer,\n});\n\nconst rootReducer = (state: any, action: any) => {\n  if (action.type === 'api/auth/logout/fulfilled') {\n    const { stripe } = state; /* preserver Stripe, specifically pricing plans */\n    state = { stripe };\n  }\n  return combinedReducer(state, action)\n}\n/* middleware is so I don't get non-serializable errors in console. I store the websocket in\n   redux store which works fine. Also, I try not to store dates in state from backend, but\n   when I do it works fine, socket is fine too. I could move socket to react context, but\n   for now I want to keep in redux store.\n*/\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      thunk: true,\n      serializableCheck: false,\n    }),\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n"],"mappings":"AAAA,SAASA,cAAT,EAA8CC,eAA9C,QAA2F,kBAA3F;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAEA,MAAMC,eAAe,GAAGF,eAAe,CAAC;EACtCG,QAAQ,EAAEF;AAD4B,CAAD,CAAvC;;AAIA,MAAMG,WAAW,GAAG,CAACC,KAAD,EAAaC,MAAb,KAA6B;EAC/C,IAAIA,MAAM,CAACC,IAAP,KAAgB,2BAApB,EAAiD;IAC/C,MAAM;MAAEC;IAAF,IAAaH,KAAnB;IAA0B;;IAC1BA,KAAK,GAAG;MAAEG;IAAF,CAAR;EACD;;EACD,OAAON,eAAe,CAACG,KAAD,EAAQC,MAAR,CAAtB;AACD,CAND;AAOA;AACA;AACA;AACA;AACA;;;AACA,OAAO,MAAMG,KAAK,GAAGV,cAAc,CAAC;EAClCW,OAAO,EAAEN,WADyB;EAElCO,UAAU,EAAGC,oBAAD,IACVA,oBAAoB,CAAC;IACnBC,KAAK,EAAE,IADY;IAEnBC,iBAAiB,EAAE;EAFA,CAAD;AAHY,CAAD,CAA5B"},"metadata":{},"sourceType":"module"}