{"ast":null,"code":"import _slicedToArray from\"/Users/adamvanbuskirk/Sites/btrpolymers/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useAppSelector,useAppDispatch}from'../../Core/hooks';import{getUser,sendRecoveryLink}from'../../Store/Auth';import{isValidEmail}from'../../Helpers/isValidEmail';import RedirectToDash from'../../Components/RedirectToDash';import SalesDoingHero from'../../Components/Controls/SalesDoingHero';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Forgot(){var dispatch=useAppDispatch();var user=useAppSelector(getUser);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),success=_useState8[0],setSuccess=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),successMessage=_useState10[0],setSuccessMessage=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),formSubmitted=_useState12[0],setFormSubmitted=_useState12[1];useEffect(function(){window.scrollTo(0,0);},[]);useEffect(function(){if(formSubmitted){if(user.status===\"idle\"){setSuccessMessage(\"A recovery link has been sent to your email\");setSuccess(true);setTimeout(function(){return setSuccess(false);},2000);setFormSubmitted(false);setEmail(\"\");}else if(user.status===\"failed\"){setError(true);showError(user.errorMessage);setFormSubmitted(false);}}},[user.status]);var showError=function showError(error){setError(true);setErrorMessage(error);setFormSubmitted(false);setTimeout(function(){return setError(false);},2000);};var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);};var handleSendRecoveryLink=function handleSendRecoveryLink(e){e.preventDefault();if(e.type===\"keydown\"){var keypress=e;if(keypress.key!=='Enter'){return;}}if(!isValidEmail(email)){showError(\"Please enter a valid email\");}else{setFormSubmitted(true);dispatch(sendRecoveryLink(email));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RedirectToDash,{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"top\",height:\"100vh\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"loginPageLeft\",children:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mobileOnlyLogo\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-white fw-bold\",children:/*#__PURE__*/_jsx(\"div\",{style:{margin:\"0px auto\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"img\",{className:\"logoCat\",src:\"/images/sales-doing-logo.jpg\",alt:\"SalesDoing Logo\",style:{width:\"300px\"}})})})}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"24pt\",textAlign:\"center\",paddingTop:\"20px\"},children:\"Can't Sign-in?\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"80%\",margin:\"16px auto 0px auto\",textAlign:\"center\"},children:\"We'll send a recovery link to\"}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"80%\",margin:\"30px auto 0px auto\"},children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",style:{marginTop:\"10px\"},children:errorMessage}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success\",style:{marginTop:\"10px\"},children:successMessage}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",style:{marginTop:\"10px\"},className:\"form-control\",placeholder:\"Email Address\",value:email,onChange:function onChange(e){return handleEmailChange(e);}}),/*#__PURE__*/_jsx(\"button\",{className:\"orangeButton\",style:{width:\"100%\",marginTop:\"10px\"},onClick:function onClick(e){return handleSendRecoveryLink(e);},onKeyDown:function onKeyDown(e){return handleSendRecoveryLink(e);},children:\"Send Recovery Link\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"10px\",textAlign:\"left\",fontWeight:\"400\",fontSize:\"11pt\"},children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"blackLink\",children:\"Return to sign-in\"})})]})]})}),/*#__PURE__*/_jsx(SalesDoingHero,{})]})]});}export default Forgot;","map":{"version":3,"names":["React","useEffect","useState","Link","useAppSelector","useAppDispatch","getUser","sendRecoveryLink","isValidEmail","RedirectToDash","SalesDoingHero","Forgot","dispatch","user","email","setEmail","error","setError","errorMessage","setErrorMessage","success","setSuccess","successMessage","setSuccessMessage","formSubmitted","setFormSubmitted","window","scrollTo","status","setTimeout","showError","handleEmailChange","e","target","value","handleSendRecoveryLink","preventDefault","type","keypress","key","display","alignItems","height","width","margin","textAlign","fontSize","paddingTop","marginTop","fontWeight"],"sources":["/Users/adamvanbuskirk/Sites/btrpolymers/client/src/Pages/Public/Forgot.tsx"],"sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAppSelector, useAppDispatch } from '../../Core/hooks';\nimport { getUser, sendRecoveryLink } from '../../Store/Auth';\nimport { isValidEmail } from '../../Helpers/isValidEmail';\nimport RedirectToDash from '../../Components/RedirectToDash';\nimport SalesDoingHero from '../../Components/Controls/SalesDoingHero';\n\nfunction Forgot() {\n\n    const dispatch = useAppDispatch();\n    const user = useAppSelector(getUser);\n    const [email, setEmail] = useState<string>(\"\");\n    const [error, setError] = useState<boolean>(false);\n    const [errorMessage, setErrorMessage] = useState<string>(\"\");\n    const [success, setSuccess] = useState<boolean>(false);\n    const [successMessage, setSuccessMessage] = useState<string>(\"\");\n    const [formSubmitted, setFormSubmitted] = useState<boolean>(false);\n\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    }, []);\n\n    useEffect(() => {\n        if (formSubmitted) {\n            if (user.status === \"idle\"){\n                setSuccessMessage(\"A recovery link has been sent to your email\");\n                setSuccess(true);\n                setTimeout(() => setSuccess(false), 2000);\n                setFormSubmitted(false);\n                setEmail(\"\");\n            } else if (user.status === \"failed\") {\n                setError(true);\n                showError(user.errorMessage);\n                setFormSubmitted(false);\n            }\n        }\n    }, [user.status]);\n\n    const showError = (error: string) => {\n        setError(true);\n        setErrorMessage(error);\n        setFormSubmitted(false);\n        setTimeout(() => setError(false), 2000);\n    }\n\n    const handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setEmail(e.target.value);\n    }\n\n    const handleSendRecoveryLink = (e: React.MouseEvent<HTMLButtonElement> | React.KeyboardEvent<HTMLButtonElement>) => {\n        \n        e.preventDefault();\n\n        if (e.type === \"keydown\" ) {\n            let keypress = e as React.KeyboardEvent;\n            if (keypress.key !== 'Enter') {\n                return;\n            }            \n        }\n\n        if (!isValidEmail(email)) {\n            showError(\"Please enter a valid email\");\n        } else {\n            setFormSubmitted(true);\n            dispatch(sendRecoveryLink(email));\n        }\n    }\n\n    return (\n    <>\n    <RedirectToDash />\n    <div style={{ display: \"flex\", alignItems: \"top\", height: \"100vh\", width: \"100%\" }}>\n        <div className=\"loginPageLeft\">\n            <div style={{ width: \"100%\" }}>\n                <div className=\"mobileOnlyLogo\">\n                    <Link to=\"/\" className=\"text-white fw-bold\">\n                        <div style={{ margin: \"0px auto\", textAlign: \"center\" }}>\n                            <img className=\"logoCat\" src=\"/images/sales-doing-logo.jpg\" alt=\"SalesDoing Logo\" style={{\n                                width: \"300px\"\n                            }} />\n                        </div>\n                    </Link>\n                </div>\n                <h1 style={{ fontSize: \"24pt\", textAlign: \"center\", paddingTop: \"20px\" }}>\n                    Can't Sign-in?\n                </h1>\n                <div style={{ width: \"80%\", margin: \"16px auto 0px auto\", textAlign: \"center\" }}>\n                    We'll send a recovery link to\n                </div>\n                <div style={{ width: \"80%\", margin: \"30px auto 0px auto\" }}>\n                    {error &&\n                        <div className=\"error\" style={{ marginTop: \"10px\" }}>\n                            {errorMessage}\n                        </div>\n                    }\n                    {success &&\n                        <div className=\"success\" style={{ marginTop: \"10px\" }}>\n                            {successMessage}\n                        </div>\n                    }\n                    <input type=\"input\" style={{ marginTop: \"10px\" }} className=\"form-control\" placeholder=\"Email Address\" \n                        value={email}\n                        onChange={(e) => handleEmailChange(e)} />\n   \n                    <button className=\"orangeButton\" style={{ width: \"100%\", marginTop: \"10px\" }}\n                        onClick={(e) => handleSendRecoveryLink(e)} onKeyDown={(e) => handleSendRecoveryLink(e)}>\n                        Send Recovery Link\n                    </button>\n                    <div style={{ marginTop: \"10px\", textAlign: \"left\", fontWeight: \"400\", fontSize: \"11pt\" }}>\n                        <Link to=\"/login\" className=\"blackLink\">\n                            Return to sign-in\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <SalesDoingHero />\n    </div>\n    </>\n    );\n}\n\nexport default Forgot;"],"mappings":"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"},"metadata":{},"sourceType":"module"}