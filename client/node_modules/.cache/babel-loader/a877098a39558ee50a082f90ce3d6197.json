{"ast":null,"code":"import{useEffect,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var GoogleSSO=function GoogleSSO(props){var g_sso=useRef(null);useEffect(function(){var _googleObj$accounts;var googleObj=window.google;// access via window\nif(!g_sso.current||!(googleObj!==null&&googleObj!==void 0&&(_googleObj$accounts=googleObj.accounts)!==null&&_googleObj$accounts!==void 0&&_googleObj$accounts.id)){return;// script not loaded yet, or ref not ready\n}googleObj.accounts.id.initialize({client_id:process.env.REACT_APP_GOOGLE_CLIENT_ID,callback:function callback(res){props.loginHandler(res);}});googleObj.accounts.id.renderButton(g_sso.current,{type:\"standard\",theme:\"outline\",size:\"large\",text:props.buttonText});},[props.buttonText]);// or [] if text never changes\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"googleButton\",ref:g_sso});};export default GoogleSSO;","map":{"version":3,"names":["useEffect","useRef","GoogleSSO","props","g_sso","googleObj","window","google","current","accounts","id","initialize","client_id","process","env","REACT_APP_GOOGLE_CLIENT_ID","callback","res","loginHandler","renderButton","type","theme","size","text","buttonText"],"sources":["/Users/adamvanbuskirk/Sites/btrpolymers/client/src/Components/GoogleSso.tsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\n\ninterface Props {\n  loginHandler: (response: google.accounts.id.CredentialResponse) => void;\n  buttonText?: string;\n}\n\nconst GoogleSSO = (props: Props) => {\n  const g_sso = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    const googleObj = (window as any).google;   // access via window\n\n    if (!g_sso.current || !googleObj?.accounts?.id) {\n      return; // script not loaded yet, or ref not ready\n    }\n\n    googleObj.accounts.id.initialize({\n      client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID,\n      callback: (res: any) => {\n        props.loginHandler(res);\n      },\n    });\n\n    googleObj.accounts.id.renderButton(g_sso.current, {\n      type: \"standard\",\n      theme: \"outline\",\n      size: \"large\",\n      text: props.buttonText,\n    });\n  }, [props.buttonText]); // or [] if text never changes\n\n  return <div className=\"googleButton\" ref={g_sso} />;\n};\n\nexport default GoogleSSO;\n"],"mappings":"AAAA,OAASA,SAAT,CAAoBC,MAApB,KAAkC,OAAlC,C,2CAOA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,KAAD,CAAkB,CAClC,GAAMC,MAAK,CAAGH,MAAM,CAAwB,IAAxB,CAApB,CAEAD,SAAS,CAAC,UAAM,yBACd,GAAMK,UAAS,CAAIC,MAAD,CAAgBC,MAAlC,CAA4C;AAE5C,GAAI,CAACH,KAAK,CAACI,OAAP,EAAkB,EAACH,SAAD,SAACA,SAAD,gCAACA,SAAS,CAAEI,QAAZ,wCAAC,oBAAqBC,EAAtB,CAAtB,CAAgD,CAC9C,OAAQ;AACT,CAEDL,SAAS,CAACI,QAAV,CAAmBC,EAAnB,CAAsBC,UAAtB,CAAiC,CAC/BC,SAAS,CAAEC,OAAO,CAACC,GAAR,CAAYC,0BADQ,CAE/BC,QAAQ,CAAE,kBAACC,GAAD,CAAc,CACtBd,KAAK,CAACe,YAAN,CAAmBD,GAAnB,EACD,CAJ8B,CAAjC,EAOAZ,SAAS,CAACI,QAAV,CAAmBC,EAAnB,CAAsBS,YAAtB,CAAmCf,KAAK,CAACI,OAAzC,CAAkD,CAChDY,IAAI,CAAE,UAD0C,CAEhDC,KAAK,CAAE,SAFyC,CAGhDC,IAAI,CAAE,OAH0C,CAIhDC,IAAI,CAAEpB,KAAK,CAACqB,UAJoC,CAAlD,EAMD,CApBQ,CAoBN,CAACrB,KAAK,CAACqB,UAAP,CApBM,CAAT,CAoBwB;AAExB,mBAAO,YAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAEpB,KAAnC,EAAP,CACD,CA1BD,CA4BA,cAAeF,UAAf"},"metadata":{},"sourceType":"module"}